<ion-content class="content">
  <div class="navBar" slot="fixed">
    <div class="searchBar">
      <ion-searchbar
        #val
        (ionInput)="handleInput($event)"
        (search)="handleFilters()"
        (ionClear)="handleFilters()"
        placeholder="Â¿Quedamos?"
        showCancelButton="never"
        animated
        mode="ios"
      >
      </ion-searchbar>
      <ion-icon name="options" (click)="showFiltering()" size="large">
      </ion-icon>
    </div>
    
    <div class="filterSelected">
      <ion-chip class="filter" *ngFor="let filter of filtersSelected">
        <ion-label> {{filter}} </ion-label>
        <ion-icon name="close-circle" (click)="removeFilter(filter)"></ion-icon>
      </ion-chip>
    </div>
  </div>
  <div class="body">
    <ion-button (click)="openMap()">Ver en mapa</ion-button>
    <div id="outPopUp" *ngIf="noResults">
      <ion-label color="dark"> No se encontraron resultados </ion-label>
    </div>

    <ion-list class="p-2 grid gap-2" *ngIf="yesResults">
      <ion-card
        (click)="navToDetail(plan)"
        class="rounded-lg shadow-md bg-gray-500 bg-opacity-10 p-4"
        *ngFor="let plan of planesResultado"
      >
        <ion-card-header>
          <ion-card-title class="title uppercase mb-2"
            >{{plan.title}}</ion-card-title
          >
          <ion-chip
            class="category px-3 mr-2 mb-2 text-xs"
            *ngFor="let tag of plan.tags"
          >
            {{tag.name}}
          </ion-chip>
          <ion-label class="block">{{plan.time}}</ion-label>
          <ion-label class="block" color="secondary"
            >{{plan.location.city}}</ion-label
          >
          <ion-label class="block" color="warning"
            >{{plan.createdBy}}</ion-label
          >
          <ion-label class="block" color="primary">{{plan.when}}</ion-label>
        </ion-card-header>
        <br />
      </ion-card>
    </ion-list>
  </div>
</ion-content>
